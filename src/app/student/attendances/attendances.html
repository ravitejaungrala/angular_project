<div class="container mt-4">
  <h2>My Attendance Records</h2>

  <div class="card mt-3">
    <div class="card-header">
      <h4>Attendance Summary</h4>
    </div>
    <div class="card-body">
      <div class="row">
        <div *ngFor="let summary of attendanceSummary" class="col-md-4 mb-3">
          <div class="card" [class.bg-success]="summary.status === 'Good'"
                          [class.bg-warning]="summary.status === 'Warning'"
                          [class.bg-danger]="summary.status === 'Danger'">
            <div class="card-body text-white">
              <h5 class="card-title">{{summary.courseName}}</h5>
              <p class="card-text">
                Attendance: {{summary.percentage}}%
                <span class="badge bg-light text-dark">{{summary.status}}</span>
              </p>
              <p class="card-text">
                {{summary.presentClasses}} of {{summary.totalClasses}} classes
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngFor="let course of courses" class="card mt-3">
    <div class="card-header">
      <h4>{{course.name}} Attendance Details</h4>
    </div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let record of getAttendanceByCourse(course.id)">
            <td class="date">{{record.date}}</td>
            <td>
              <span [class.text-success]="record.status === 'present'"
                    [class.text-warning]="record.status === 'late'"
                    [class.text-danger]="record.status === 'absent'">
                {{record.status | titlecase}}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>